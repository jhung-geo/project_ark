# Project_ARK
Project ARK's goal is to replace existing Aardvark I2C bridge with Arduino Uno
board (Arduino Replaces aardvarK).  The project contains:

	arduino_io.py						Python interface that allow user to interact with the 
										bridge
	
	i2c_usb_bridge\i2c_usb_bridge.ino	Arduino board FW
	
	chipsea_fw_flash.py					Chipsea firmware flash script that uses
										the bridge
										
	afe_plot.py							Sample plot script that reads NextInput AFE
										

To use the scripts and firmware code, you need to have:

	Python 2.7 with required modules installed (run "pip install -r requirements.txt")
	Arduino IDE (download here https://www.arduino.cc/en/Main/Software)

The Arduino board is programmed to act as a virtual serial port to host machine.
User can send and receive data by issuing serial command:

	'A' set the I2C device address
	'a' set the target register address
	'l' set the length of read or write buffer
	'w' indicates it's a write operation
	'r' indicates it's a read operation
	
For example, to read 3 bytes from device 0x26, register 0x9d:

	"A 26 a 9d l 03 r"


Refer chipsea_fw_flash.py and afe_plot.py for how to use arduino_io module to
read and write to I2C slave.  

To use chipsea_fw_flash.py to flash firmware to Chipsea board, run:

"Python chipsea_fw_flash.py foo.csf" where foo.csf is the FW binary generated by
Chipsea FW conversion tool.